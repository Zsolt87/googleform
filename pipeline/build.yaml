trigger:
  - feature/auth

pool:
  vmImage: 'ubuntu-latest'

variables:
  - group: docker-credentials

steps:
  - script: |
      docker --version
      echo $(username)
      echo $(password)
      java --version
      mvn --version
    displayName: 'Checking environment'
  - script: |
      mvn clean compile
    displayName: 'Compile project'
  - script: |
      mvn test -pl formservice
    displayName: 'Running tests'
#  - script: |
#      echo $(demo-var1)
#      echo $(demo-var2)
#    displayName: 'Print Values from a Variable Group'
#  - task: Gradle@2
#    inputs:
#      gradleWrapperFile: './gradlew'
#      jdkVersionOption: '1.11'
#      tasks: 'clean compileTestJava'
#    displayName: 'Compile Project'
#  - task: Gradle@2
#    inputs:
#      gradleWrapperFile: './gradlew'
#      jdkVersionOption: '1.11'
#      tasks: 'test'
#    displayName: 'Run Unit Tests'
#  - script: |
#      ./gradlew build -x test
#    displayName: 'Create the JAR file'